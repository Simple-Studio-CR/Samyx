<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/layout :: head"></head>
<body class="fix-header card-no-border logo-center">

<div id="main-wrapper">

<header th:replace="layout/layout :: header"></header>
<aside th:replace="layout/layout :: aside"></aside>



<!-- ============================================================== -->
<!-- Page wrapper  -->
<!-- ============================================================== -->
<div class="page-wrapper">
    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="row page-titles">
        <div class="col-md-5 align-self-center">
            <h3 class="text-themecolor">Información de la caja</h3>
        </div>
        <div class="col-md-7 align-self-center">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="javascript:void(0)" th:href="@{/control-cajas/}" th:text="#{txt.inicio}"></a></li>
                <li class="breadcrumb-item active">Información de la caja</li>
            </ol>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- End Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Container fluid  -->
    <!-- ============================================================== -->
    <div class="container-fluid">
        <!-- ============================================================== -->
        <!-- Start Page Content -->
        <!-- ============================================================== -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body card-body-facturador caja-cierre">
                    
                    	<form id="formAddCaja" autocomplete="off" th:action="@{/control-cajas/form/save}" th:object="${controlCaja}" method="post">
                           <div class="form-body">
                           
                           		<h3 th:if="${controlCaja.id == null}" class="font-weight-bold">Abrir caja, se abre con:</h3>
                           		
                           		<h3 th:if="${controlCaja.id != null}" class="font-weight-bold">Cerrar caja:</h3>

								 <div class="row" th:style="${controlCaja.id == null ? 'display:flex' : 'display:none'}">
								 
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">¢ - Colones</span>
		                                    	<input th:if="${controlCaja.id == null}" type="text" maxlength="20" onkeypress="return validateFloatKeyPress(this,event);" class="form-control" th:field="*{aperturaColones}" onclick="return this.select();" required="required">
		                                    	<input th:if="${controlCaja.id != null}" readonly="readonly" type="text" maxlength="20" onkeypress="return validateFloatKeyPress(this,event);" class="form-control" th:field="*{aperturaColones}" onclick="return this.select();" required="required">
		                              		</div>
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                	<div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">$ - Dolares</span>
		                                    	<input th:if="${controlCaja.id == null}" type="text" maxlength="20" onkeypress="return validateFloatKeyPress(this,event);" class="form-control" th:field="*{aperturaDolares}" onclick="return this.select();" required="required">
		                                    	<input th:if="${controlCaja.id != null}" readonly="readonly" type="text" maxlength="20" onkeypress="return validateFloatKeyPress(this,event);" class="form-control" th:field="*{aperturaDolares}" onclick="return this.select();" required="required">
		                              		</div>
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                	<div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">€ - Euros</span>
		                                    	<input th:if="${controlCaja.id == null}" type="text" maxlength="20" onkeypress="return validateFloatKeyPress(this,event);" class="form-control" th:field="*{aperturaEuros}" onclick="return this.select();" required="required">
		                                    	<input th:if="${controlCaja.id != null}" readonly="readonly" type="text" maxlength="20" onkeypress="return validateFloatKeyPress(this,event);" class="form-control" th:field="*{aperturaEuros}" onclick="return this.select();" required="required">
		                              		</div>
		                              	</div>
		                             </div>
		                          </div>
		                          
		                          
		                          <div class="row" style="display: none;">
		                          
		                          <h3 class="font-weight-bold">Salidas de efectivo:</h3>
		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input readonly="readonly" type="text" class="form-control" th:value="${#numbers.formatDecimal(salidasEfectivoColones, 1, 2, 'POINT')}" name="salidasColones">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text" readonly="readonly" class="form-control" th:value="${#numbers.formatDecimal(salidasEfectivoDolares, 1, 2, 'POINT')}" name="salidasDolares">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input readonly="readonly" type="text" class="form-control" th:value="${#numbers.formatDecimal(salidasEfectivoEuros, 1, 2, 'POINT')}" name="salidasEuros">
		                              	</div>
		                             </div>
		                             
		                           </div>
		                           
		                           
		                           <div class="row" style="display: none;">
		                           		                           
		                           <h3 class="font-weight-bold">Entradas de efectivo:</h3>
		                           
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly" class="form-control" th:value="${#numbers.formatDecimal(entradasEfectivoColones, 1, 2, 'POINT')}" name="entradasColones">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text" readonly="readonly" class="form-control" th:value="${#numbers.formatDecimal(entradasEfectivoDolares, 1, 2, 'POINT')}" name="entradasDolares">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" readonly="readonly" class="form-control" th:value="${#numbers.formatDecimal(entradasEfectivoEuros, 1, 2, 'POINT')}" name="entradasEuros">
		                              	</div>
		                             </div>
		                             
		                             
		                           </div>
		                           
		                           
		                           <div class="row" style="display: none;">
		                           <h3 class="font-weight-bold">Ventas efectivo:</h3>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly"  class="form-control" name="ventasColonesEfectivo" th:value="${#numbers.formatDecimal(ventasColonesEfectivo, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasDolaresEfectivo" th:value="${#numbers.formatDecimal(ventasDolaresEfectivo, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" class="form-control" readonly="readonly" name="ventasEurosEfectivo" th:value="${#numbers.formatDecimal(ventasEurosEfectivo, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             
		                             
		                            </div>
		                            
		                           
		                           <div class="row" style="display: none;"> 
		                           <h3 class="font-weight-bold">Ventas tarjeta:</h3>
		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasColonesTarjeta" th:value="${#numbers.formatDecimal(ventasColonesTarjeta, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasDolaresTarjeta" th:value="${#numbers.formatDecimal(ventasDolaresTarjeta, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasEurosTarjeta" th:value="${#numbers.formatDecimal(ventasEurosTarjeta, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             
		                             
		                            </div>
		                            
		                            
		                            
		                           <div class="row" style="display: none;"> 
		                           
		                           <h3 class="font-weight-bold">Ventas con cheque:</h3>
		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasColonesCheque" th:value="${#numbers.formatDecimal(ventasColonesCheque, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasDolaresCheque" th:value="${#numbers.formatDecimal(ventasDolaresCheque, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasEurosCheque" th:value="${#numbers.formatDecimal(ventasEurosCheque, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             
		                             
		                            </div>
		                            
		                            
		                            
		                           <div class="row" style="display: none;"> 
		                           <h3 class="font-weight-bold">Ventas por transferencia - depósito bancario:</h3>
		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasColonesDeposito" th:value="${#numbers.formatDecimal(ventasColonesDeposito, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasDolaresDeposito" th:value="${#numbers.formatDecimal(ventasDolaresDeposito, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasEurosDeposito" th:value="${#numbers.formatDecimal(ventasEurosDeposito, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             
		                             
		                            </div>
		                            
		                            
		                           
		                           <div class="row" style="display: none;"> 
		                           <h3 class="font-weight-bold">Ventas a crédito:</h3>
		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasColonesCredito" th:value="${#numbers.formatDecimal(ventasColonesCredito, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text" class="form-control" readonly="readonly" name="ventasDolaresCredito" th:value="${#numbers.formatDecimal(ventasDolaresCredito, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="ventasEurosCredito" th:value="${#numbers.formatDecimal(ventasEurosCredito, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             
		                             
		                             
		                           </div>
		                           
		                           
		                           
		                           <div class="row" style="display: none;">
		                           <h3 class="font-weight-bold">Cuentas por cobrar efectivo:</h3>

		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="cxcColonesEfectivo" th:value="${#numbers.formatDecimal(cxcColonesEfectivo, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="cxcDolaresEfectivo" th:value="${#numbers.formatDecimal(cxcDolaresEfectivo, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="cxcEurosEfectivo" th:value="${#numbers.formatDecimal(cxcEurosEfectivo, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             
		                            </div>
		                            
		                           <h3 style="display: none;" class="font-weight-bold">Cuentas por cobrar tarjeta:</h3>
		                           <div class="row" style="display: none;">
		                             
		                             
		                             <div class="col-md-3" style="display: none;">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="cxcColonesTarjeta" th:value="${#numbers.formatDecimal(cxcColonesTarjeta, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="cxcDolaresTarjeta" th:value="${#numbers.formatDecimal(cxcDolaresTarjeta, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="cxcEurosTarjeta" th:value="${#numbers.formatDecimal(cxcEurosTarjeta, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             
		                             
		                             </div>
		                             
		                           <h3 style="display: none;" class="font-weight-bold">Cuentas por cobrar depósitos o transferencias:</h3>  
		                           <div class="row" style="display: none;">
		                             
		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="cxcColonesDeposito" th:value="${#numbers.formatDecimal(cxcColonesDeposito, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text"readonly="readonly" class="form-control" name="cxcDolaresDeposito" th:value="${#numbers.formatDecimal(cxcDolaresDeposito, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="cxcEurosDeposito" th:value="${#numbers.formatDecimal(cxcEurosDeposito, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             
		                             
		                            </div>
		                            
		                            
		                            <h3 style="display: none;" class="font-weight-bold">Cuentas por cobrar pagos con cheques:</h3>  
		                           <div style="display: none;" class="row">
		                             
		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="cxcEurosCheques" th:value="${#numbers.formatDecimal(cxcEurosCheques, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
									 <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text"readonly="readonly" class="form-control" name="cxcDolaresCheques" th:value="${#numbers.formatDecimal(cxcDolaresCheques, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="cxcEurosCheques" th:value="${#numbers.formatDecimal(cxcEurosCheques, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             
		                             
		                            </div>
		                            
		                            
		                            <h3 th:style="${controlCaja.id != null ? 'display:flex' : 'display:none'}" class="font-weight-bold">Devoluciones por notas de crédito:</h3>  
		                           <div th:style="${controlCaja.id != null ? 'display:flex' : 'display:none'}" class="row">
		                             
		                             
		                             <div class="col-md-2">
		                                <div class="form-group">
		                                    <label class="control-label">Colones</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="totalDevolucionesColones" th:value="${#numbers.formatDecimal(totalDevolucionesColones, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
									 <div class="col-md-2">
		                                <div class="form-group">
		                                    <label class="control-label" >Dolares</label>
		                                    <input type="text"readonly="readonly" class="form-control" name="totalDevolucionesDolares" th:value="${#numbers.formatDecimal(totalDevolucionesDolares, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                             <div class="col-md-2">
		                                <div class="form-group">
		                                    <label class="control-label" >Euros</label>
		                                    <input type="text" readonly="readonly" class="form-control" name="totalDevolucionesEuros" th:value="${#numbers.formatDecimal(totalDevolucionesEuros, 1, 2, 'POINT')}">
		                              	</div>
		                             </div>
		                            </div>
		                            
		                            
		                           
		                           <h3 class="font-weight-bold" th:style="${controlCaja.id != null ? 'display:flex' : 'display:none'}">Resumen de la caja:</h3>  
		                           
		                           
		                           <div class="row" th:style="${controlCaja.id != null ? 'display:flex' : 'display:none'}">
		                           	
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Cierre, efectivo en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" id="cierreColones" th:value="${#numbers.formatDecimal(controlCaja.aperturaColones, 1, 2, 'POINT')}">
		                  
		                  					<div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">¢ - Colones</span>
		                                   		<input type="text" class="form-control caja-destacado retorna-cero" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('cierreColones').value, 'cierreColones');" name="cierreColones" >
		                                    </div>		                                    
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control cierreColones" value="0.00" />
		                              	</div>
		                             </div>		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Cierre, efectivo en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control"  id="cierreDolares" th:value="${#numbers.formatDecimal(controlCaja.aperturaDolares, 1, 2, 'POINT')}">

											<div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">$ - Dolares</span>
		                                   		<input type="text" class="form-control caja-destacado retorna-cero" name="cierreDolares" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('cierreDolares').value, 'cierreDolares');" >
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control cierreDolares" value="0.00" />
		                              	</div>
		                             </div>		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Cierre, efectivo en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" id="cierreEuros" th:value="${#numbers.formatDecimal(controlCaja.aperturaEuros, 1, 2, 'POINT')}">

											<div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">€ - Euros</span>
		                                    <input type="text" class="form-control caja-destacado retorna-cero" name="cierreEuros" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('cierreEuros').value, 'cierreEuros');">
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control cierreEuros" value="0.00" />
		                              	</div>
		                             </div>
								    </div>	
		                           
		                           
		                           
		                           <div class="row" th:style="${controlCaja.id != null ? 'display:flex' : 'display:none'}">
		                          
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total efectivo</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalEfectivoColones" id="totalEfectivoColones" th:value="${#numbers.formatDecimal(totalEfectivoColones, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">¢ - Colones</span>
		                                    <input type="text" class="form-control caja-destacado retorna-cero" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalEfectivoColones').value, 'totalEfectivoColones');" name="cierreTotalEfectivoColones" >
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control totalEfectivoColones" value="0.00" />
		                              	</div>
		                             </div>		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total efectivo</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalEfectivoDolares" id="totalEfectivoDolares" th:value="${#numbers.formatDecimal(totalEfectivoDolares, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">$ - Dolares</span>
		                                    <input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalEfectivoDolares" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalEfectivoDolares').value, 'totalEfectivoDolares');" >
		                                    </div>
		                                    
		                                    <label style="display: none;"  class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;"  type="text" readonly="readonly" class="form-control totalEfectivoDolares" value="0.00" />
		                              	</div>
		                             </div>		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total efectivo</label>
		                                    <input style="display: none;"  type="text" readonly="readonly" class="form-control" name="totalEfectivoEuros" id="totalEfectivoEuros" th:value="${#numbers.formatDecimal(totalEfectivoEuros, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">€ - Euros</span>
		                                    	<input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalEfectivoEuros" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalEfectivoEuros').value, 'totalEfectivoEuros');">
		                                    </div>
		                                    
		                                    <label style="display: none;"  class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;"  type="text" readonly="readonly" class="form-control totalEfectivoEuros" value="0.00" />
		                              	</div>
		                             </div>
								    </div>	
								    
								    
								    <div class="row" th:style="${controlCaja.id != null ? 'display:flex' : 'display:none'}">
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total tarjeta, voucher en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalTarjetaColones" id="totalTarjetaColones" th:value="${#numbers.formatDecimal(totalTarjetaColones, 1, 2, 'POINT')}">
	
											<div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">¢ - Colones</span>
		                                    	<input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalTarjetaColones" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalTarjetaColones').value, 'totalTarjetaColones');">
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control totalTarjetaColones" value="0.00">
		                              	</div>
		                             </div>		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total tarjeta, voucher en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalTarjetaDolares" id="totalTarjetaDolares" th:value="${#numbers.formatDecimal(totalTarjetaDolares, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">$ - Dolares</span>
		                                    	<input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalTarjetaDolares" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalTarjetaDolares').value, 'totalTarjetaDolares');">
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control totalTarjetaDolares" value="0.00">
		                              	</div>
		                             </div>		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total tarjeta, voucher en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalTarjetaEuros" id="totalTarjetaEuros" th:value="${#numbers.formatDecimal(totalTarjetaEuros, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">€ - Euros</span>
		                                    	<input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalTarjetaEuros" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalTarjetaEuros').value, 'totalTarjetaEuros');">
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control totalTarjetaEuros" value="0.00">
		                              	</div>
		                             </div>
								    </div>	
								    
								    
								    <div class="row" th:style="${controlCaja.id != null ? 'display:flex' : 'display:none'}">
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total cheques, cheques en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalChequeColones" id="totalChequeColones" th:value="${#numbers.formatDecimal(totalChequeColones, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">¢ - Colones</span>
		                                    	<input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalChequeColones" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalChequeColones').value, 'totalChequeColones');">
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control totalChequeColones" value="0.00">
		                              	</div>
		                             </div>		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total cheques, cheques en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalChequeDolares" id="totalChequeDolares" th:value="${#numbers.formatDecimal(totalChequeDolares, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">$ - Dolares</span>
		                                    	<input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalChequeDolares" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalChequeDolares').value, 'totalChequeDolares');">
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control totalChequeDolares" value="0.00">
		                              	</div>
		                             </div>		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total cheques, cheques en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalChequeEuros" id="totalChequeEuros" th:value="${#numbers.formatDecimal(totalChequeEuros, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">€ - Euros</span>
		                                    	<input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalChequeEuros" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalChequeEuros').value, 'totalChequeEuros');">
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control totalChequeEuros" value="0.00">
		                              	</div>
		                             </div>
								    </div>
								    
								    <div class="row" th:style="${controlCaja.id != null ? 'display:flex' : 'display:none'}">
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total depósitos o transferencias</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalDepositosColones" id="totalDepositosColones" th:value="${#numbers.formatDecimal(totalDepositosColones, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">¢ - Colones</span>
		                                    	<input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalDepositosColones" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalDepositosColones').value, 'totalDepositosColones');">
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control totalDepositosColones" value="0.00">
		                              	</div>
		                             </div>		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total depósitos o transferencias, Transferencias en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalDepositosDolares" id="totalDepositosDolares" th:value="${#numbers.formatDecimal(totalDepositosDolares, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">$ - Dolares</span>
		                                    	<input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalDepositosDolares" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalDepositosDolares').value, 'totalDepositosDolares');">
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control totalDepositosDolares" value="0.00">
		                              	</div>
		                             </div>		                             
		                             <div class="col-md-3">
		                                <div class="form-group">
		                                    <label class="control-label" >Total depósitos o transferencias, transferencias en caja</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control" name="totalDepositosEuros" id="totalDepositosEuros" th:value="${#numbers.formatDecimal(totalDepositosEuros, 1, 2, 'POINT')}">
		                                    
		                                    <div class="input-group">
                                                <span class="input-group-addon simbolo-moneda">€ - Euros</span>
		                                    	<input type="text" class="form-control caja-destacado retorna-cero" name="cierreTotalDepositosEuros" value="0.00" onclick="return this.select();" onkeypress="return validateFloatKeyPress(this,event);" oninput="return retornaDiferencia(this.value, document.getElementById('totalDepositosEuros').value, 'totalDepositosEuros');">
		                                    </div>
		                                    
		                                    <label style="display: none;" class="control-label m-t-10" >Diferencia</label>
		                                    <input style="display: none;" type="text" readonly="readonly" class="form-control totalDepositosEuros" value="0.00">
		                              	</div>
		                             </div>
		                             
								    </div>
								    
								    <div class="row" th:style="${controlCaja.id != null ? 'display:flex' : 'display:none'}">
								    	<div class="col-md-9">
			                                <div class="form-group">
			                                    <label class="control-label m-t-10" >Observaciones</label>
			                                    <textarea rows="2" cols="" class="form-control" th:field="*{observaciones}"></textarea>
			                              	</div>
		                             	</div>
								    </div>
								    
						    
								    <div  class="form-actions">
								    	
								    	<input type="hidden" th:field="*{id}"> 
								    	
		                                 <button th:if="${controlCaja.id == null}" type="submit" class="btn btn-lg btn-success"> 
		                                 	<i class="fas fa-cash-register"></i>&nbsp;<span th:text="'Abrir caja'"></span>
		                                 </button>
		                                 
		                                 <button th:if="${controlCaja.id != null}" type="submit" class="btn btn-lg btn-success"> 
		                                 	<i class="fas fa-cash-register"></i>&nbsp;<span th:text="'Cerrar caja'"></span>
		                                 </button>
		                                 
		                                 
		                                 <a th:href="@{/control-cajas/}" class="btn btn-inverse" style="color:#FFF !important">
		                                 	<i class="fas fa-chevron-left"></i>&nbsp; <span th:text="#{txt.btn-regresar}"></span>
		                                 </a>
		                            </div>


                             </div>
                         </form>  
                         
                    </div>
                </div>
            </div>
            
            
        <!-- ============================================================== -->
        <!-- End PAge Content -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Container fluid  -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- footer -->
    <!-- ============================================================== -->
    <footer th:replace="layout/layout :: footer"></footer>
    <!-- ============================================================== -->
    <!-- End footer -->
    <!-- ============================================================== -->
    <input id="csrfToken" type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
</div>
<!-- ============================================================== -->
<!-- End Page wrapper  -->
<!-- ============================================================== -->

</div>
<div th:replace="layout/layout :: scripts"></div>
<script type="text/javascript">
var token = $('#csrfToken').val();

$("#formAddCaja").submit(function( event ) {
	
	
	event.preventDefault();

	 $.ajax({
	        type: "POST",
	        cache: false,
	        beforeSend: function () {
	        	loadingShow();
	        },
	        url: "[(@{/control-cajas/form/save})]",
	        data: $(this).serialize(),
	        success: function (data)
	        {
	        	
	        	if(parseInt(data.response) === 1){
	        		
	        		swal("Notificación", "Registro guardado con éxito, redireccionando...", "success");
 				
 				setTimeout(function(){
 					location.href="[(@{/control-cajas/})]"
       			}, 1300);             				
	        		
	        	}else{
	        		swal("","Ha ocurrido un error contacte al administrador del sistema.","warning");
	        	} 
	        	
	        	
	        }, complete: function () {
	            loadingHide();
	        }, error: function (x, t, m) {
	            if (t === "timeout") {
	                
	            } else {
	                
	            }
	        }
	    });

});

function retornaDiferencia(a, b, c){
	
	if(a == null || a == ""){
		a = 0.00;
	}

	var j = parseFloat(a) - parseFloat(b);

	$("." + c).val(j.toFixed(2));
	
	if(parseFloat(j) >= 0){
		$("." + c).addClass('color-blue');		
		$("." + c).removeClass('color-red');
	}else{
		$("." + c).addClass('color-red');	
		$("." + c).removeClass('color-blue');
	}

}

//Desactivo el enter en todas las áginas
$('form input').keydown(function (e) {
    if (e.keyCode == 13) {
        e.preventDefault();
        return false;
    }
});


</script>
</div>
</body>
</html>