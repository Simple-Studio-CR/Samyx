<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
   <head th:replace="layout/layout :: head"></head>
   <body class="fix-header card-no-border logo-center">
      <div id="main-wrapper">
         <header th:replace="layout/layout :: header"></header>
         <aside th:replace="layout/layout :: aside"></aside>
         <!-- ============================================================== -->
         <!-- Page wrapper  -->
         <!-- ============================================================== -->
         <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <div class="row page-titles">
               <div class="col-md-5 align-self-center">
                  <h3 class="text-themecolor" th:text="#{txt.editar.mis.datos}"></h3>
               </div>
               <div class="col-md-7 align-self-center">
                  <ol class="breadcrumb">
                     <li class="breadcrumb-item">
                        <a href="javascript:void(0)" th:href="@{/emisor/}" th:text="#{txt.inicio}"></a>
                     </li>
                     <li class="breadcrumb-item active" th:text="#{txt.editar.mis.datos}"></li>
                  </ol>
               </div>
            </div>
            <!-- ============================================================== -->
            <!-- End Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
               <!-- ============================================================== -->
               <!-- Start Page Content -->
               <!-- ============================================================== -->
               <div class="row">
                  <div class="col-12">
                     <div class="card">
                        <div class="card-body">
 
                           <div class="form-body">

                                 <div th:if="${param.exito}" class="alert alert-info alert-dismissible fade show" role="alert">
									  <i class="fas fa-check"></i> La empresa se registró con éxito, complete la información faltante, usuario contraseña y pin de Hacienda, además subir la llave criptográfica, crear la sucursal y la terminal y por ultimo dar acceso a su usuario para que pueda facturar.
									  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
									    <span aria-hidden="true">&times;</span>
									  </button>
								 </div>
								 
								 <div th:if="${cambiarLlave == 'S'} OR ${param.cambiarLlave}" class="alert alert-warning alert-dismissible fade show" role="alert">
									  <i class="fas fa-exclamation-triangle"></i> La llave criptográfica ha caducado, debe ingresar al <a href="https://www.hacienda.go.cr/ATV/Login.aspx" target="_blank">sitio web del Ministerio de Hacienda</a> , regenerarla y actualizarla en la parte inferior de este formulario para continuar facturando.
									  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
									    <span aria-hidden="true">&times;</span>
									  </button>
								 </div>
                                 
                                 <!-- Nav tabs -->
                                 <ul class="nav nav-tabs">
                                    <li class="nav-item">
                                       <a class="nav-link active" data-toggle="tab" href="#datos-emisor">Datos del Emisor</a>
                                    </li>
                                     
                                    <li class="nav-item" th:if="${emisor.id != null}">
                                       <a class="nav-link" id="getActividades" data-toggle="tab" href="#actividades-economicas">Actividades económicas</a>
                                    </li>
                                    
                                    <li class="nav-item" th:if="${emisor.id != null}">
                                       <a class="nav-link" id="getSucursales" data-toggle="tab" href="#sucursales">Sucursales</a>
                                    </li>
                                    <li class="nav-item" th:if="${emisor.id != null}">
                                       <a class="nav-link" id="getTerminales" data-toggle="tab" href="#terminales">Terminales</a>
                                    </li>
                                    <li class="nav-item" th:if="${emisor.id != null}">
                                       <a class="nav-link" id="getUsuarios" data-toggle="tab" href="#acceso-usuarios">Acceso a usuarios</a>
                                    </li>
                                    <li class="nav-item" th:if="${emisor.id != null}">
                                       <a class="nav-link" data-toggle="tab" href="#api">API</a>
                                    </li>
                                 </ul>
                                 
                                 <!-- Tab panes -->
                                 <div class="tab-content">
                                    <div id="datos-emisor" class="tab-pane active">
                                    <form id="formEmpresa" enctype="multipart/form-data" autocomplete="off" th:action="@{/emisor/save}" th:object="${emisor}" method="post">
                              
                                       <br>
                                       <h3 class="title-border-bottom" th:text="#{txt.datos.de.la.empresa}"></h3>
                                       <div class="row p-t-20">
                                       
                                       	  <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> Código actividad</label>
                                                <input type="text" maxlength="6" class="form-control" th:field="*{codigoActividad}" required="required">
                                             </div>
                                          </div>
                                       
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.tipo.identificacion})]</label>
                                                <select class="form-control _select2_" th:field="*{tipoDeIdentificacion}" required="required">
                                                   <option th:value="''" th:text="#{txt.combo.seleccione}"></option>
                                                   <option th:value="'1'" th:text="#{txt.cedula.fisica}"></option>
                                                   <option th:value="'2'" th:text="#{txt.cedula.juridica}"></option>
                                                   <option th:value="'3'" th:text="#{txt.dimex}"></option>
                                                   <option th:value="'4'" th:text="#{txt.nite}"></option>
                                                </select>
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.identificacion})]</label>

                                                <input th:if="${emisor.tipoDeIdentificacion == null}" type="text" th:attr="maxlength=9" class="form-control num-integer" th:field="*{identificacion}" required="required">
			                                    <input th:if="${emisor.tipoDeIdentificacion != null && emisor.tipoDeIdentificacion.id == 1}" type="text" th:attr="maxlength=9" class="form-control num-integer" th:field="*{identificacion}" required="required">
			                                    <input th:if="${emisor.tipoDeIdentificacion != null && emisor.tipoDeIdentificacion.id == 2}" type="text" th:attr="maxlength=10" class="form-control num-integer" th:field="*{identificacion}" required="required">
			                                    <input th:if="${emisor.tipoDeIdentificacion != null && emisor.tipoDeIdentificacion.id == 3}" type="text" th:attr="maxlength=12" class="form-control num-integer" th:field="*{identificacion}" required="required">
			                                    <input th:if="${emisor.tipoDeIdentificacion != null && emisor.tipoDeIdentificacion.id == 4}" type="text" th:attr="maxlength=10" class="form-control num-integer" th:field="*{identificacion}" required="required">     
                                                
                                             </div>
                                          </div>
                                          <div class="col-md-4">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.nombre.razon.social})]</label>
                                                <input type="text" maxlength="100" class="form-control" th:field="*{nombreRazonSocial}" required="required">
                                             </div>
                                          </div>
                                          <div class="col-md-4">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.nombre.comercial})]</label>
                                                <input type="text" maxlength="80" class="form-control" th:field="*{nombreComercial}" required="required">
                                             </div>
                                          </div>
                                          <div class="col-md-4">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.email})]</label>
                                                <input type="text" class="form-control" th:field="*{email}" required="required">
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label">[(#{txt.codigo.pais})]</label>
                                                <input type="text" class="form-control num-integer" maxlength="3" name="codigoPais" value="506" required="required" readonly="readonly">
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.telefono})]</label>
                                                <input type="text" class="form-control num-integer" maxlength="8" th:field="*{telefono}" required="required">
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label">[(#{txt.fax})]</label>
                                                <input type="text" class="form-control num-integer" maxlength="8" th:field="*{fax}">
                                             </div>
                                          </div>
                                           <div>
                                          		<label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.tipo.plan})]</label>
                                                <select class="form-control _select2_" id="planes" th:field="*{provincia}"  required="required">
                                                <option value="" selected="selected" th:text="#{txt.combo.seleccione}"></option>
                                                <option th:each="k : ${listaPlanes}" th:value="${k.id}" th:text="${k.planes}"></option>
                                                </select>
                                          </div>
                                           		<div class="col-md-2">
                                             	<div class="form-group">
                                                <label class="control-label">[(#{txt.tipo.plan1})]</label>
                                                <input type="text" class="form-control num-integer" maxlength="8" th:field="*{fax}" disabled="disabled">
                                             </div>
                                          </div>
                                          
                                          
                                          
                                          </div>
                                          
                                          
                                       <h3 class="title-border-bottom" th:text="#{txt.ubicacion.de.la.empresa}"></h3>
                                       <div class="row p-t-20">
                                          
                                          
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.provincia})]</label>
                                                <select class="form-control _select2_" id="provincia" th:field="*{provincia}"  required="required">
                                                   <option value="" selected="selected" th:text="#{txt.combo.seleccione}"></option>
                                                   <option th:each="k : ${listaProvincias}" th:value="${k.id}" th:text="${k.provincia}"></option>
                                                </select>
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.canton})]</label>
                                                <select class="form-control _select2_" id="canton" th:field="*{canton}" required="required">
                                                   <option th:each="k : ${listaCantones}" th:value="${k.id}" th:text="${k.canton}"></option>
                                                </select>
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.distrito})]</label>
                                                <select class="form-control _select2_" th:field="*{distrito}" id="distrito" required="required">
                                                   <option th:each="k : ${listaDistritos}" th:value="${k.id}" th:text="${k.distrito}"></option>
                                                </select>
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i>[(#{txt.barrio})]</label>
                                                <select class="form-control _select2_" id="barrio" th:field="*{barrio}" required="required">
                                                   <option th:each="k : ${listaBarrios}" th:value="${k.id}" th:text="${k.barrio}"></option>
                                                </select>
                                             </div>
                                          </div>
                                          <div class="col-md-12">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.otras.senas})]</label>
                                                <input type="text" class="form-control" th:field="*{otrasSenas}" required="required">
                                             </div>
                                          </div>
                                          
                                          
                                          </div>
                                          
                                          
                                       <h3 class="title-border-bottom" th:text="#{txt.parametros.de.la.empresa}"></h3>
                                       <div class="row p-t-20">
                                        
                                          <div class="col-md-12">
                                             <div class="form-group">
                                                <label class="control-label">[(#{txt.detalle.factura1})]</label>
                                                <textarea rows="2" cols="" class="form-control" th:field="*{detalleEnFactura1}"></textarea>
                                             </div>
                                          </div>
                                          <div class="col-md-12">
                                             <div class="form-group">
                                                <label class="control-label">[(#{txt.detalle.factura2})]</label>
                                                <textarea rows="2" cols="" class="form-control" th:field="*{detalleEnFactura2}"></textarea>
                                             </div>
                                          </div>
                                          <div class="col-md-12">
                                             <div class="form-group">
                                                <label class="control-label" th:text="'Validez de la proforma'"></label>
                                                <textarea rows="2" cols="" class="form-control" th:field="*{notaValidezProforma}"></textarea>
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.ambiente.trabajo})]</label>
                                                <select class="form-control _select2_" th:field="*{ambiente}" required="required">
                                                   <option th:value="'prod'" th:text="#{txt.ambiente.prod}"></option>
                                                   <option sec:authorize="hasAnyRole('ROLE_SUPER_ADMIN', 'ROLE_ADMIN')" th:value="'stag'" th:text="#{txt.ambiente.stag}"></option>                                                   
                                                </select>
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.status.empresa})]</label>
                                                <select class="form-control _select2_" th:field="*{statusEmpresa}" required="required">
                                                   <option th:value="'1'" th:text="#{txt.estado.activo}"></option>
                                                   <option th:value="'0'" th:text="#{txt.estado.desactivado}"></option>
                                                </select>
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.email.notificaciones})]</label>
                                                <input type="email" class="form-control" th:field="*{emailNotificacion}" required="required">
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.impresion})]</label>
                                                <select class="form-control _select2_" th:field="*{impresion}" required="required">
                                                   <option th:value="'1'" th:text="#{txt.carta}"></option>
                                                   <option th:value="'2'" th:text="#{txt.tiquete}"></option>
                                                </select>
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> Decimales</label>
                                                <input type="text" maxlength="1" class="form-control" th:field="*{decimales}" required="required">
                                             </div>
                                          </div>
                                          
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> Control cajas</label>
                                                <select class="form-control _select2_" th:field="*{controlCajas}" required="required">
                                                   <option th:value="'N'" th:text="'No'"></option>
                                                   <option th:value="'S'" th:text="'Si'"></option>
                                                </select>
                                             </div>
                                          </div>
                                          
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> Multi-moneda factura</label>
                                                <select class="form-control _select2_" th:field="*{multiMonedaFactura}" required="required">
                                                   <option th:value="'N'" th:text="'No'"></option>
                                                   <option th:value="'S'" th:text="'Si'"></option>
                                                </select>
                                             </div>
                                          </div>
                                          
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> Devolucion IVA</label>
                                                <select class="form-control _select2_" th:field="*{devolucionIva}" required="required">
                                                   <option th:value="'N'" th:text="'No'"></option>
                                                   <option th:value="'S'" th:text="'Si'"></option>
                                                </select>
                                             </div>
                                          </div>
                                          
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> Sistema farmacias</label>
                                                <select class="form-control _select2_" th:field="*{sistemaFarmacias}" required="required">
                                                   <option th:value="'N'" th:text="'No'"></option>
                                                   <option th:value="'S'" th:text="'Si'"></option>
                                                </select>
                                             </div>
                                          </div>
                                          
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> Tipo de ventas</label>
                                                <select class="form-control _select2_" th:field="*{tipoCliente}" required="required">
                                                   <option th:value="'A'" th:text="'Cantidad'"></option>
                                                   <option th:value="'B'" th:text="'Por unidad y fracción'"></option>
                                                </select>
                                             </div>
                                          </div>
                                          
                                       </div>
                                       <h3 class="title-border-bottom" th:text="#{txt.usuario.pw.mh}"></h3>
                                       
                                       <p th:if="${emisor.id != null}" class="color-red"><i th:text="#{txt.warning.datos.hacienda}"></i></p>
                                       
                                       <div class="row">
                                          <div class="col-md-6">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.user.api.prod})]</label>
                                                <input type="text" class="form-control" th:field="*{userApi}" required="required">
                                             </div>
                                          </div>
                                          <div class="col-md-4">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.pw.api.prod})]</label>
                                                <input type="text" class="form-control" th:field="*{pwApi}" required="required">
                                             </div>
                                          </div>
                                          <div class="col-md-2">
                                             <div class="form-group">
                                                <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.ping.api.prod})]</label>
                                                <input type="text" class="form-control" maxlength="4" th:field="*{pingApi}" required="required">
                                             </div>
                                          </div>
                                       </div>
                                       <br>
                                       
                                       <h3 th:if="${emisor.id != null}" class="title-border-bottom" th:text="#{txt.llave.criptografica}"></h3>
                                       <p th:if="${emisor.id != null}" class="color-red"><i th:text="#{txt.warning.llave.criptografica}"></i></p>
                                       <div class="row" th:if="${emisor.id != null}">
                                          <div class="col-12">
                                             <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> [(#{txt.subir.llave.criptografica})]</label>
                                             <div class="form-group">
                                                <input type="file" id="llaveCriptografica"  name="llaveCriptografica" class="form-control" />
                                             </div>
                                          </div>
                                          
                                          <div class="col-md-2">
                                             <label class="control-label" th:text="'Fecha de emisión'"></label>
                                             <div class="form-group">
                                                <input type="text" readonly="readonly" th:field="*{fechaEmisionCert}" class="form-control" />
                                             </div>
                                          </div>
                                          
                                          <div class="col-md-2">
                                             <label class="control-label" th:text="'Fecha de caducidad'"></label>
                                             <div class="form-group">
                                                <input type="text" readonly="readonly" th:field="*{fechaCaducidadCert}" class="form-control" />
                                             </div>
                                          </div>
                                          
                                       </div>
                                       <div th:if="${emisor.id != null}" id="loadLlaveCriptografica">
                                          <a th:if="${emisor.certificado != null and #strings.length(emisor.certificado)>0}" th:href="@{'/llave/'} + ${emisor.identificacion} + '/' + ${emisor.certificado}">
                                          	<i class="fas fa-cloud-download-alt"></i> Descargar llave criptográfica 
                                          </a>
                                       </div>
                                       <br>
                                       <h3 th:if="${emisor.id != null}" class="title-border-bottom" th:text="#{txt.logo.empresa}"></h3>
                                       <div class="row" th:if="${emisor.id != null}">
                                          <div class="col-12">
                                             <label th:text="#{txt.subir.logo.empresa}"></label>
                                             <div class="form-group">
                                                <input id="logoEmpresa" type="file" accept="image/*" name="logoEmpresa" class="form-control" />
                                             </div>
                                          </div>
                                       </div>
                                       <div id="loadLogoEmpresa" th:if="${emisor.id != null}">
                                          <img th:if="${emisor.logoEmpresa != null and #strings.length(emisor.logoEmpresa)>0}" class="img-thumbnail logo-empresa" th:src="@{'/logo/' + ${emisor.logoEmpresa}}" />
                                       </div>
                                       <div class="form-actions">
                                       	  <p class="color-rojo"><i class="fas fa-asterisk color-rojo"></i> Campos requeridos</p>
                                          <button type="submit" class="btn btn-success btn-lg"> <i class="fas fa-save"></i>&nbsp;<span th:text="#{btn.guardar}"></span></button>
                                          <a th:href="@{/emisor/}" class="btn btn-inverse btn-lg" style="color:#FFF !important"><i class="fas fa-chevron-left"></i>&nbsp;  <span th:text="#{txt.btn-regresar}"></span></a>
                                          <button th:if="${ #authorization.expression('isAuthenticated()') and #strings.contains(#authentication.principal.authorities,'ROLE_ADMIN')}" type="button" id="updateFechaLlaveCriptografica" class="btn btn-warning btn-lg"> <i class="fas fa-save"></i>&nbsp;<span th:text="'Actualizar fechas llave criptográfica'"></span></button>
                                       </div>
                                       </form>
                                    </div>
                                    
                                    <div id="actividades-economicas" class="tab-pane fade" th:if="${emisor.id != null}">
                                       <br>
                                       <h3 class="title-border-bottom" th:text="'Actividades económicas'"></h3>
                                       
                                       <form id="formAddActividad" autocomplete="off" th:action="@{/emisor/actividades/save}" method="post">

	                                      		<div class="row">
						                             <div class="col-md-6">
						                                <div class="form-group">
						                                    <label class="control-label"><i class="fas fa-asterisk color-rojo"></i> Actividad económica</label>
						                                    <select class="form-control _select2_" id="_codigoActividadEmisor" name="codigoActividadEmisor" required="required">
						                                    	<option value="" selected="selected" th:text="#{txt.combo.seleccione}"></option>
				                                       			<option th:each="k : ${listaActividades}" th:value="${k.codigoActividad}" th:text="${k.detalleActividad}"></option>
				                                       		</select>
				                                       		
				                                       		<input type="hidden" id="_detalleActividad" name="detalleActividad" />
				                                       		
						                              	</div>
						                             </div>	
						                             
						                             <div class="col-md-6">
						                                <div class="form-group">
						                                    <label class="control-label">&nbsp;</label> <br>
						                                    
						                                    <button type="submit" class="btn btn-success btn-sm">
						                                    	<i class="fas fa-save"></i>&nbsp;<span>Agregar actividad</span>
						                                    </button>
						                                    
						                              	</div>
						                             </div>
	
					                            </div>
                                       		
                                       </form>
                                       
                                       <table class="table color-table table-hover muted-table" th:if="${emisor.id != null}">
                                       		<thead>
                                       			<tr>
                                       				<th style="width: 10%">Código de actividad</th>
                                       				<th style="width: 90%">Detalle</th>
                                       			</tr>
                                       		</thead>
                                       		<tbody id="loadActividades"></tbody>
                                       </table>
                                       
                                       
                                    </div>
                                    <div id="sucursales" class="tab-pane fade" th:if="${emisor.id != null}">
                                       <br>
                                       <h3 class="title-border-bottom" th:text="#{txt.sucursales}"></h3>
                                       <div class="text-align-right row p-b-10" >
                                          <div class="col-md-10"></div>
                                          <div class="col-md-2">
                                             <button  class="btn btn-success color-blanco btn-form-sucursal " data-id="0" data-toggle="modal" data-target=".modal-sucursal">
                                             	<i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span th:text="#{btn.nuevo.registro}"></span>
                                             </button>
                                          </div>
                                       </div>
                                       <div class="table-responsive">
                                          <table class="table color-table muted-table">
                                             <thead>
                                                <tr>
                                                   <th style="width: 10%;">Número</th>
                                                   <th style="width: 20%;">Nombre de la sucursal</th>
                                                   <th style="width: 20%;">Encargado</th>
                                                   <th style="width: 10%;">Teléfono</th>
                                                   <th style="width: 10%;">Correo</th>
                                                   <th style="width: 20%;">Dirección</th>
                                                   <th style="width: 10%;">Acciones</th>
                                                </tr>
                                             </thead>
                                             <tbody id="loadSucursales"></tbody>
                                          </table>
                                       </div>
                                    </div>
                                    <div id="terminales" class="tab-pane fade" th:if="${emisor.id != null}">
                                       <br>
                                       <h3 class="title-border-bottom" th:text="#{txt.terminales}"></h3>
                                       <div class="text-align-right row p-b-10" >
                                          <div class="col-md-10"></div>
                                          <div class="col-md-2">
                                             <button  class="btn btn-success color-blanco btn-form-terminal" data-id="0" data-toggle="modal" data-target=".modal-terminal">
                                             <i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span th:text="#{btn.nuevo.registro}"></span>
                                             </button>
                                          </div>
                                       </div>
                                       <div class="table-responsive">
                                          <table class="table color-table muted-table">
                                             <thead>
                                                <tr>
                                                   <th style="width: 5%;">Número</th>
                                                   <th style="width: 20%;">Nombre de la terminal</th>
                                                   <th style="width: 10%;">Consecutivo FE</th>
                                                   <th style="width: 10%;">Consecutivo ND</th>
                                                   <th style="width: 10%;">Consecutivo NC</th>
                                                   <th style="width: 10%;">Consecutivo TE</th>
                                                   <th style="width: 10%;">Consecutivo CCE</th>
                                                   <th style="width: 10%;">Consecutivo CPCE</th>
                                                   <th style="width: 10%;">Consecutivo RCE</th>
                                                   <th style="width: 10%;">Consecutivo FCE</th>
                                                   <th style="width: 10%;">Consecutivo FEE</th>
                                                   <th style="width: 5%;">Acciones</th>
                                                </tr>
                                             </thead>
                                             <tbody id="loadTerminales"></tbody>
                                          </table>
                                       </div>
                                    </div>
                                    <div id="api" class="tab-pane fade" th:if="${emisor.id != null}">
                                       <br>
                                       <h3 class="title-border-bottom" th:text="#{txt.api}"></h3>
                                       <h5 class="p-t-10"><b>Usuario:</b> <span th:text="${emisor.identificacion}" th:remove="tag"></span></h5>
                                       <h5><b>Password:</b> <span th:text="${emisor.tokenAccess}" th:remove="tag"></span></h5>
                                    </div>
                                    
                                    
                                    <div id="acceso-usuarios" class="tab-pane fade" th:if="${emisor.id != null}">
                                       <br>
                                       <h3 class="title-border-bottom" th:text="#{txt.acceso.a.terminales}"></h3>
                                       
                                       
                                       <div class="row">
                                          <div class="col-4">
                                             <label th:text="#{txt.seleccione.la.sucursal}"></label>
                                             <div class="form-group">
                                                <select style="width: 100%;" name="sucursal" class="form-control _select2_" id="sucursalId">
                                                	<option th:value="''" selected="selected" th:text="#{txt.combo.seleccione}"></option>
                                                	<option th:each="k : ${listaSucursales}" th:value="${k.id}" th:text="${k.nombreSucursal}"></option>
                                                </select>
                                             </div>
                                          </div>
                                          <div class="col-1">
                                          	<label th:text="'&nbsp;'"></label>
                                             <div class="form-group">
	                                             <button id="reloadPage" class="btn btn-success btn-sm">
										      		<i class="fas fa-sync-alt"></i> Refrescar
										      	 </button>	
									      	 </div>
                                          </div>
                                          <div class="col-4">
                                          	<label th:text="'&nbsp;'"></label>
                                             <div class="form-group">
	                                             <button id="btnModalNuevoAcceso" data-toggle="modal" data-target=".modal-nuevo-acceso" class="btn btn-success btn-sm">
										      		<i class="fa fa-plus-circle" aria-hidden="true"></i> Nuevo acceso
										      	 </button>	
									      	 </div>
                                          </div>
                                       </div>
                                       
                                       
                                       <div class="table-responsive">
                                          <table class="table color-table muted-table">
	                                       	<thead>
	                                       		<tr>
	                                       			<th style="width: 10%">Terminal</th>
	                                       			<th style="width: 10%">Usuario</th>
	                                       			<th  style="width: 10%">Fecha creación</th>
	                                       			<th  style="width: 20%">Tipo documento por defecto</th>
	                                       			<th  style="width: 10%">Actividad por defecto</th>
	                                       			<th  style="width: 10%">Modifica precio</th>
	                                       			<th  style="width: 10%">Aplica descuento</th>
	                                       			<th  style="width: 10%">Descuento máximo</th>
	                                       			<th style="width: 10%" class="align-center">Acciones</th>
	                                       		</tr>
	                                       	</thead>
	                                       	<tbody id="loadTerminalUsuario"></tbody>
	                                       </table>
                                       </div>
                                       
                                    </div>
                                    
                                    
                                    
                                    
                                 </div>
                              </div>
                        
                     </div>
                  </div>
               </div>
               <!-- ============================================================== -->
               <!-- End PAge Content -->
               <!-- ============================================================== -->
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <footer th:replace="layout/layout :: footer"></footer>
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
         </div>
         <!-- ============================================================== -->
         <!-- End Page wrapper  -->
         <!-- ============================================================== -->
      </div>
      <div class="modal fade modal-sucursal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" th:if="${emisor.id != null}">
         <div class="modal-dialog modal-lg"  role="document">
            <div class="modal-content" id="loadFormSucursal"></div>
         </div>
      </div>
      <div class="modal fade modal-terminal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" th:if="${emisor.id != null}">
         <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content" id="loadFormTerminal"></div>
         </div>
      </div>
      
      
      <div class="modal fade modal-nuevo-acceso" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" th:if="${emisor.id != null}">
         <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content" id="loadFormNuevoAcceso"></div> 
         </div>
      </div>
      
      <input id="csrfToken" type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
      <div th:replace="layout/layout :: scripts"></div>
      <script type="text/javascript">
      
      $("#reloadPage").click(function() {
    	    location.reload();
    	});

    	var token = $('#csrfToken').val();

    	function getActividades() {
    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {
    	        	loadingShow();
    	        },
    	        url: "[(@{/emisor/actividades})]",
    	        data: {
    	            _csrf: token
    	        },
    	        success: function(data) {
    	            $("#loadActividades").html(data);
    	        },
    	        complete: function() {
    	        	loadingHide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });
    	}

    	$(document).on("change", "#_codigoActividadEmisor", function(e) {
    	    var v = $(this).find('option:selected').text();
    	    $("#_detalleActividad").val(v);
    	});

    	$(document).on("click", "#getActividades", function(e) {
    	    e.preventDefault();
    	    getActividades();
    	});

    	$(document).on("submit", "#formAddActividad", function(e) {
    	    e.preventDefault();
    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {
    	        	loadingShow();
    	        },
    	        url: "[(@{/emisor/actividades/save})]",
    	        data: $(this).serialize(),
    	        success: function(data) {

    	            if (parseInt(data.response) === 200) {
    	                swal("Éxito!", "Actividad creada con éxito", "success");
    	                getActividades();
    	            } else if (parseInt(data.response) === 201) {
    	                swal("Notificación!", "La actividad ya se encuentra registrada", "warning");
    	            }

    	        },
    	        complete: function() {
    	        	loadingHide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });
    	});




    	$(document).on('change', '#tipoDeIdentificacion', function() {

    	    var v = $(this).val();

    	    $("#identificacion").val("");

    	    if (v != "") {
    	        $("#identificacion").removeAttr("disabled");
    	    } else {
    	        $("#identificacion").attr("disabled", true);
    	    }

    	    if (v == "1") {
    	        //fisico
    	        $("#identificacion").attr('maxlength', '9');
    	    } else if (v == "2") {
    	        //juricio
    	        $("#identificacion").attr('maxlength', '10');
    	    } else {
    	        $("#identificacion").attr('maxlength', '12');
    	        $("#identificacion").removeClass("iden_fisica");
    	        $("#identificacion").removeClass("iden_juridica");
    	    }

    	    if ($(this).val() != "") {
    	        $(".error").fadeOut();
    	        return false;
    	    }

    	});


    	$("#formEmpresa").submit(function(event) {

    	    //Valido las cédulas
    	    var v = $("#tipoDeIdentificacion").val();
    	    var i = $("#identificacion").val();
    	    if (v == "1") {

    	        //fisico
    	        if (i.length != 9) {

    	            swal({
    	                text: "¡La cédula física debe contener 9 dígitos, sin espacios y sin guiones!",
    	                button: {
    	                    text: "Aceptar",
    	                },
    	                icon: "warning",
    	                closeModal: false
    	            }).then(function() {
    	                swal.close();
    	                $("#identificacion").focus();
    	            });

    	            return false;
    	        }

    	    } else if (v == "2") {
    	        //juricio
    	        if (i.length != 10) {

    	            swal({
    	                text: "¡La cédula jurídica debe contener 10 dígitos, sin espacios y sin guiones!",
    	                button: {
    	                    text: "Aceptar",
    	                },
    	                icon: "warning",
    	                closeModal: false
    	            }).then(function() {
    	                swal.close();
    	                $("#identificacion").focus();
    	            });

    	            return false;
    	        }
    	    }

    	    //Valido los teléfonos
    	    var tel1 = $("#telefono").val();
    	    if (tel1.length != 8) {

    	        swal({
    	            text: "¡El número de teléfono debe contener 8 dígitos, sin espacios y sin guiones!",
    	            button: {
    	                text: "Aceptar",
    	            },
    	            icon: "warning",
    	            closeModal: false
    	        }).then(function() {
    	            swal.close();
    	            $("#telefono").focus();
    	        });

    	        return false;
    	    }


    	    var formData = new FormData(
    	        $(this)[0]);
    	    $
    	        .ajax({
    	            type: "POST",
    	            cache: false,
    	            contentType: false,
    	            processData: false,
    	            beforeSend: function() {
    	            	loadingShow();
    	            },
    	            url: "[(@{/emisor/save})]",
    	            data: formData,
    	            success: function(
    	                data) {
    	                //LoadRegistroValidaciones(data.id);

    	                if (parseInt(data.resp) === 1) {

    	                    if (parseInt(data.resp_llave) === 2) {

    	                        swal(
    	                            "Notificación!",
    	                            "El pin de producción no corresponde a la llave criptográfica, verifique nuevamente, si no está seguro ingrese al ATV revoque la llave y vuelva a generarla.",
    	                            "warning", {
    	                                button: "Aceptar",
    	                            });
    	                        return false;

    	                    }

    	                    swal(
    	                        "Éxito!",
    	                        "La datos se guardaron con éxito.",
    	                        "success", {
    	                            button: "Aceptar",
    	                        });

    	                    if (data.llave) {
    	                        $(
    	                                "#loadLlaveCriptografica")
    	                            .html(
    	                                '<a href="@{/llave/}' + data.llave + '"><i class="fa fa-cloud-download" aria-hidden="true"></i> Descargar llave criptográfica</a>');

    	                    }

    	                    if (data.logo) {
    	                        $(
    	                                "#loadLogoEmpresa")
    	                            .html(
    	                                '<img class="img-thumbnail logo-empresa" src="[(@{/logo/})]' +
    	                                data.logo +
    	                                '" />');
    	                    }

    	                    $(
    	                            "#logoEmpresa, #llaveCriptografica")
    	                        .val(
    	                            "");

    	                } else if (parseInt(data.resp) === 2) {
    	                    swal(
    	                        "Error!",
    	                        "Error al guardar los datos!",
    	                        "error", {
    	                            button: "Aceptar",
    	                        });
    	                } else if (parseInt(data.response) === 0) {
    	                    location.href = "[(@{/})]"
    	                }

    	            },
    	            complete: function() {
    	            	loadingHide();
    	            },
    	            error: function(x,
    	                t, m) {
    	                if (t === "timeout") {

    	                } else {

    	                }
    	            }
    	        });

    	    return false;
    	});


    	$(document).on("click", "#updateFechaLlaveCriptografica", function(e) {

    	    e.preventDefault();

    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {},
    	        url: "[(@{/emisor/update-dates-criptografica})]",
    	        data: {
    	            _csrf: token
    	        },
    	        success: function(data) {

    	            console.log(data);

    	            if (parseInt(data.resp) === 1) {
    	                swal("", data.msj, "success");
    	            } else {
    	                swal("", data.msj, "warning");
    	            }

    	        },
    	        complete: function() {
    	            //loading_hide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });

    	});

    	$(document).on("change", "#provincia", function(e) {

    	    e.preventDefault();

    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {},
    	        url: "[(@{/ubicacion/cantones})]",
    	        data: {
    	            id: $(this).val(),
    	            _csrf: token
    	        },
    	        success: function(data) {
    	            $("#canton").html(data);
    	            $('#canton').select2('open');
    	        },
    	        complete: function() {
    	            //loading_hide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });

    	});

    	$(document).on("change", "#canton", function(e) {

    	    e.preventDefault();

    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {},
    	        url: "[(@{/ubicacion/distritos})]",
    	        data: {
    	            id: $(this).val(),
    	            _csrf: token
    	        },
    	        success: function(data) {
    	            $("#distrito").html(data);
    	            $('#distrito').select2('open');
    	        },
    	        complete: function() {
    	            //loading_hide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });

    	});

    	$(document).on("change", "#distrito", function(e) {
    	    e.preventDefault();
    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {},
    	        url: "[(@{/ubicacion/barrios})]",
    	        data: {
    	            id: $(this).val(),
    	            _csrf: token
    	        },
    	        success: function(data) {
    	            $("#barrio").html(data);
    	            $('#barrio').select2('open');
    	        },
    	        complete: function() {
    	            //loading_hide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });
    	});

    	function loadSucursales() {
    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {},
    	        url: "[(@{/sucursales/})]",
    	        data: {
    	            _csrf: token
    	        },
    	        success: function(data) {
    	            $("#loadSucursales").html(data);
    	        },
    	        complete: function() {
    	            //loading_hide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });
    	}

    	$(document).on("click", "#getSucursales",
    	    function(e) {
    	        loadSucursales();
    	    });

    	$(document)
    	    .on(
    	        "click",
    	        ".btn-form-sucursal",
    	        function(e) {
    	            e.preventDefault();

    	            $
    	                .ajax({
    	                    type: "POST",
    	                    cache: false,
    	                    beforeSend: function() {},
    	                    url: "[(@{/sucursales/form/edit})]",
    	                    data: {
    	                        id: $(this)
    	                            .attr(
    	                                "data-id"),
    	                        _csrf: token
    	                    },
    	                    success: function(
    	                        data) {
    	                        $(
    	                                "#loadFormSucursal")
    	                            .html(
    	                                data);
    	                    },
    	                    complete: function() {
    	                        //loading_hide();
    	                    },
    	                    error: function(x,
    	                        t, m) {
    	                        if (t === "timeout") {

    	                        } else {

    	                        }
    	                    }
    	                });
    	        });

    	$(document)
    	    .on(
    	        "submit",
    	        "#formSucursal",
    	        function() {

    	            $
    	                .ajax({
    	                    type: "POST",
    	                    cache: false,
    	                    beforeSend: function() {},
    	                    url: "[(@{/sucursales/form/save})]",
    	                    data: $(
    	                            "#formSucursal")
    	                        .serialize(),
    	                    success: function(
    	                        data) {

    	                        if (parseInt(data.response) === 1) {
    	                            swal(
    	                                "Éxito!",
    	                                "La datos se guardaron con éxito.",
    	                                "success", {
    	                                    button: "Aceptar",
    	                                });
    	                            loadSucursales();
    	                        } else if (parseInt(data.response) === 2) {
    	                            swal(
    	                                "Error!",
    	                                "El número de sucursal ya existe, debe cambiarlo!",
    	                                "error", {
    	                                    button: "Aceptar",
    	                                });
    	                        } else if (parseInt(data.response) === 0) {
    	                            location.href = "[(@{/})]"
    	                        }

    	                    },
    	                    complete: function() {
    	                        //loading_hide();
    	                    },
    	                    error: function(x,
    	                        t, m) {
    	                        if (t === "timeout") {

    	                        } else {

    	                        }
    	                    }
    	                });

    	            return false;
    	        });

    	function loadTerminales() {
    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {},
    	        url: "[(@{/terminales/})]",
    	        data: {
    	            _csrf: token
    	        },
    	        success: function(data) {
    	            $("#loadTerminales").html(data);
    	        },
    	        complete: function() {
    	            //loading_hide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });
    	}

    	$(document).on("click", "#getTerminales",
    	    function(e) {
    	        loadTerminales();
    	    });

    	$(document)
    	    .on(
    	        "click",
    	        ".btn-form-terminal",
    	        function(e) {
    	            e.preventDefault();

    	            $
    	                .ajax({
    	                    type: "POST",
    	                    cache: false,
    	                    beforeSend: function() {},
    	                    url: "[(@{/terminales/form/edit})]",
    	                    data: {
    	                        id: $(this)
    	                            .attr(
    	                                "data-id"),
    	                        _csrf: token
    	                    },
    	                    success: function(
    	                        data) {
    	                        $(
    	                                "#loadFormTerminal")
    	                            .html(
    	                                data);
    	                    },
    	                    complete: function() {
    	                        //loading_hide();
    	                    },
    	                    error: function(x,
    	                        t, m) {
    	                        if (t === "timeout") {

    	                        } else {

    	                        }
    	                    }
    	                });
    	        });

    	$(document)
    	    .on(
    	        "submit",
    	        "#formTerminal",
    	        function() {

    	            $
    	                .ajax({
    	                    type: "POST",
    	                    cache: false,
    	                    beforeSend: function() {},
    	                    url: "[(@{/terminales/form/save})]",
    	                    data: $(
    	                            "#formTerminal")
    	                        .serialize(),
    	                    success: function(
    	                        data) {

    	                        if (parseInt(data.response) === 1) {
    	                            swal(
    	                                "Éxito!",
    	                                "La datos se guardaron con éxito.",
    	                                "success", {
    	                                    button: "Aceptar",
    	                                });
    	                            loadTerminales();
    	                        } else if (parseInt(data.response) === 2) {
    	                            swal(
    	                                "Error!",
    	                                "El número de terminal ya existe, debe cambiarlo!",
    	                                "error", {
    	                                    button: "Aceptar",
    	                                });
    	                        } else if (parseInt(data.response) === 0) {
    	                            location.href = "[(@{/})]"
    	                        }

    	                    },
    	                    complete: function() {
    	                        //loading_hide();
    	                    },
    	                    error: function(x,
    	                        t, m) {
    	                        if (t === "timeout") {

    	                        } else {

    	                        }
    	                    }
    	                });

    	            return false;
    	        });

    	function loadAccesoATerminales(id, token) {
    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {},
    	        url: "[(@{/terminales/acceso/})]",
    	        data: {
    	            id: id,
    	            _csrf: token
    	        },
    	        success: function(data) {
    	            $("#loadTerminalUsuario").html(data);
    	        },
    	        complete: function() {
    	            //loading_hide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });
    	}

    	$(document).on("change", "#sucursalId", function(e) {
    	    e.preventDefault();
    	    loadAccesoATerminales($(this).val(), token);
    	});



    	$(document).on("click", "#btnModalNuevoAcceso", function(e) {

    	    e.preventDefault();

    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {},
    	        url: "[(@{/terminales/acceso/form-nuevo-acceso})]",
    	        data: {
    	            id: $(this).val(),
    	            _csrf: token
    	        },
    	        success: function(data) {
    	            $("#loadFormNuevoAcceso").html(data);
    	        },
    	        complete: function() {
    	            //loading_hide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });

    	});

    	$(document).on("change", "#ComboSucursalId", function() {
    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {},
    	        url: "[(@{/terminales/acceso/terminales-por-sucursal})]",
    	        data: {
    	            id: $(this).val(),
    	            _csrf: token
    	        },
    	        success: function(data) {
    	            $("#terminalBySucursal").html(data)

    	            $('#terminalBySucursal').select2('open');

    	        },
    	        complete: function() {
    	            //loading_hide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });
    	});

    	$(document).on("submit", "#formTerminalNuevoAcceso", function(e) {

    	    e.preventDefault();

    	    $.ajax({
    	        type: "POST",
    	        cache: false,
    	        beforeSend: function() {},
    	        url: "[(@{/terminales/acceso/form-save-nuevo-acceso})]",
    	        data: $(this).serialize(),
    	        success: function(data) {


    	            if (parseInt(data.resp) === 1) {
    	                loadAccesoATerminales(data.sucursal, token);
    	            } else {
    	                swal("", "Este usuario ya tiene asignado la terminal.", "warning");
    	            }


    	        },
    	        complete: function() {
    	            //loading_hide();
    	        },
    	        error: function(x, t, m) {
    	            if (t === "timeout") {

    	            } else {

    	            }
    	        }
    	    });
    	});

    	$(document).on("click", ".btn-delete-acceso-terminal", function(e) {

    	    e.preventDefault();


    	    swal({
    	            title: "Confirme para eliminar",
    	            text: "Una vez eliminado no se podrá recuperar!",
    	            icon: "warning",
    	            buttons: true,
    	            dangerMode: true,
    	        })
    	        .then((willDelete) => {
    	            if (willDelete) {

    	                $.ajax({
    	                    type: "POST",
    	                    cache: false,
    	                    beforeSend: function() {},
    	                    url: "[(@{/terminales/acceso/delete-acceso-usuario})]",
    	                    data: {
    	                        id: $(this).attr("data-id"),
    	                        s: $(this).attr("data-s"),
    	                        _csrf: token
    	                    },
    	                    success: function(data) {

    	                        loadAccesoATerminales(data.sucursal, token);

    	                    },
    	                    complete: function() {
    	                        //loading_hide();
    	                    },
    	                    error: function(x, t, m) {
    	                        if (t === "timeout") {

    	                        } else {

    	                        }
    	                    }
    	                });


    	                swal("Eliminado con éxito!", {
    	                    icon: "success",
    	                });
    	            }
    	        });



    	});
      	
	  </script>
   </body>
</html>