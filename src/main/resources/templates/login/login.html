<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!--favicon-->
		<link rel="icon" href="images/favicon-32x32.png" type="image/png" />
		<!-- loader-->
		<link href="css/pace.min.css" rel="stylesheet" />
		<script src="js/pace.min.js"></script>
		<!-- Bootstrap CSS -->
		<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet" type="text/css">
		<link href="css/app.css" rel="stylesheet" type="text/css">
		<link href="css/icons.css" rel="stylesheet" type="text/css">
		<title>Samyx - Login</title>
	</head>

<body class="bg-theme bg-theme1">
	<!--wrapper-->
	<div class="wrapper">
		<div class="section-authentication-signin d-flex align-items-center justify-content-center my-5 my-lg-0">
			<div class="container-fluid">
				<div class="row row-cols-1 row-cols-lg-2 row-cols-xl-3">
					<div class="col mx-auto">
						<div class="mb-4 text-center">
							<img src="images/Samyx.svg" width="240" alt="" />
						</div>

						<div class="alert alert-warning alert-dismissible fade show"
					role="alert" th:if="${param.error != null}">
					<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <span
						th:text="#{txt.user.pw.fail}"></span>
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>

				<div class="alert alert-warning alert-dismissible fade show"
					role="alert" th:if="${param.expired != null}">
					<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <span
						th:text="#{txt.session.expired}"></span>
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
						<div class="card">
							<div class="card-body">
								<div class="border p-4 rounded">
									<div class="text-center">
										<h3 class="">Iniciar Sesión</h3>
										
									</div>
									<!--div class="d-grid">
										<a class="btn my-4 shadow-sm btn-light" href="javascript:;"> <span class="d-flex justify-content-center align-items-center">
                          <img class="me-2" src="images/icons/search.svg" width="16" alt="Image Description">
                          <span>Sign in with Google</span>
											</span>
										</a> <a href="javascript:;" class="btn btn-light"><i class="bx bxl-facebook"></i>Sign in with Facebook</a>
									</div>
									<div class="login-separater text-center mb-4"> <span>OR SIGN IN WITH EMAIL</span>
										<hr/>
									</div-->
									<div class="form-body">
										<form class="row g-3" id="loginform"
										th:action="@{/login}" method="post">
											<div class="col-12" data-validate="Usuario es requerido">
												<label  class="form-label" >Usuario</label>
												<input class="form-control" type="text" autofocus="autofocus"
												name="username" id="username" th:placeholder="#{txt.username}"></div>
											<div class="col-12" data-validate="Password is required">
												<label class="form-label">Contraseña</label>
												<div class="input-group" id="show_hide_password">
													<input class="form-control border-end-0" type="password" id="password"
													name="password" th:placeholder="#{txt.password}"> <a href="javascript:;" class="input-group-text bg-transparent"><i class='bx bx-hide'></i></a>
												</div>
											</div>
											<!--div class="col-md-6">
												<div class="form-check form-switch">
													<input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" checked>
													<label class="form-check-label" for="flexSwitchCheckChecked">Remember Me</label>
												</div>
											</div-->
											
											<div class="col-12">
												<div class="d-grid">
													<button type="submit" class="btn btn-light"><i class="bx bxs-lock-open"></i>Ingresar</button>
												</div>
											</div>

											<div class="col-md-12 text-end">	<a href="javascript:void(0)" id="to-recover">¿Olvidó su contraseña?</a>
											</div>
										</form>
										
									</div>
								</div>
							</div>
						</div>
						<p>No tiene una cuenta aún? <a th:href="@{/nuevo-registro}">Registrese acá</a>
						</p>
					</div>
					
				</div>
				<!--end row-->
			</div>
		</div>
	</div>
	<!--end wrapper-->
	<!--start switcher-->
	
	<!--end switcher-->


	<!--plugins-->
	<script src="js/jquery/jquery.min.js"></script>
	<script src="js/main.js"></script>
	<div th:replace="layout/layout :: scripts"></div>

	<script type="text/javascript">
		function loadingShow(){
			$("#btnProcesando").show();
		}
		
		function loadingHide(){
			$("#btnProcesando").hide();
		}
		$(function() {
			"use strict";
			$(function() {
				$(".preloader").fadeOut();
			}), jQuery(document).on("click", ".mega-dropdown", function(i) {
				i.stopPropagation();
			});
			var i = function() {
				(window.innerWidth > 0 ? window.innerWidth : this.screen.width) < 1170 ? ($("body").addClass("mini-sidebar"), 
				$(".navbar-brand span").hide(), $(".scroll-sidebar, .slimScrollDiv").css("overflow-x", "visible").parent().css("overflow", "visible"), 
				$(".sidebartoggler i").addClass("ti-menu")) : ($("body").removeClass("mini-sidebar"), 
				$(".navbar-brand span").show());
				var i = (window.innerHeight > 0 ? window.innerHeight : this.screen.height) - 1;
				(i -= 70) < 1 && (i = 1), i > 70 && $(".page-wrapper").css("min-height", i + "px");
			};
			$(window).ready(i), $(window).on("resize", i), $(".sidebartoggler").on("click", function() {
				$("body").hasClass("mini-sidebar") ? ($("body").trigger("resize"), $(".scroll-sidebar, .slimScrollDiv").css("overflow", "hidden").parent().css("overflow", "visible"), 
				$("body").removeClass("mini-sidebar"), $(".navbar-brand span").show()) : ($("body").trigger("resize"), 
				$(".scroll-sidebar, .slimScrollDiv").css("overflow-x", "visible").parent().css("overflow", "visible"), 
				$("body").addClass("mini-sidebar"), $(".navbar-brand span").hide());
			}), $(".fix-header .topbar").stick_in_parent({}), $(".nav-toggler").click(function() {
				$("body").toggleClass("show-sidebar"), $(".nav-toggler i").toggleClass("mdi mdi-menu"), 
				$(".nav-toggler i").addClass("mdi mdi-close");
			}), $(".search-box a, .search-box .app-search .srh-btn").on("click", function() {
				$(".app-search").toggle(200);
			}), $(".right-side-toggle").click(function() {
				$(".right-sidebar").slideDown(50), $(".right-sidebar").toggleClass("shw-rside");
			}), $(".floating-labels .form-control").on("focus blur", function(i) {
				$(this).parents(".form-group").toggleClass("focused", "focus" === i.type || this.value.length > 0);
			}).trigger("blur"), $(function() {
				for (var i = window.location, o = $("ul#sidebarnav a").filter(function() {
					return this.href == i;
				}).addClass("active").parent().addClass("active"); ;) {
					if (!o.is("li")) break;
					o = o.parent().addClass("in").parent().addClass("active");
				}
			}), $(function() {
				$('[data-toggle="tooltip"]').tooltip();
			}), $(function() {
				$('[data-toggle="popover"]').popover();
			}), $(function() {
				$("#sidebarnav").metisMenu();
			}), $(".scroll-sidebar").slimScroll({
				position: "left",
				size: "5px",
				height: "100%",
				color: "#dcdcdc"
			}), $(".message-center").slimScroll({
				position: "right",
				size: "5px",
				color: "#dcdcdc"
			}), $(".aboutscroll").slimScroll({
				position: "right",
				size: "5px",
				height: "80",
				color: "#dcdcdc"
			}), $(".message-scroll").slimScroll({
				position: "right",
				size: "5px",
				height: "570",
				color: "#dcdcdc"
			}), $(".chat-box").slimScroll({
				position: "right",
				size: "5px",
				height: "470",
				color: "#dcdcdc"
			}), $(".slimscrollright").slimScroll({
				height: "100%",
				position: "right",
				size: "5px",
				color: "#dcdcdc"
			}), $("body").trigger("resize"), $(".list-task li label").click(function() {
				$(this).toggleClass("task-done");
			}), $("#to-recover").on("click", function() {
				$("#loginform").slideUp(), $("#recoverform").fadeIn();
			}), $('a[data-action="collapse"]').on("click", function(i) {
				i.preventDefault(), $(this).closest(".card").find('[data-action="collapse"] i').toggleClass("ti-minus ti-plus"), 
				$(this).closest(".card").children(".card-body").collapse("toggle");
			}), $('a[data-action="expand"]').on("click", function(i) {
				i.preventDefault(), $(this).closest(".card").find('[data-action="expand"] i').toggleClass("mdi-arrow-expand mdi-arrow-compress"), 
				$(this).closest(".card").toggleClass("card-fullscreen");
			}), $('a[data-action="close"]').on("click", function() {
				$(this).closest(".card").removeClass().slideUp("fast");
			});
			
			$("#recoverform").submit(function( e ) {
				
				e.preventDefault();
				
				  $.ajax({
					type: "POST",
					cache: false,
					beforeSend: function () {
						loadingShow();
					},
					url: "[(@{/account/forgot})]",
					data: $(this).serialize(),
					success: function (data)
					{
						if(parseInt(data.response) === 1){
							
							swal("",data.msj,"success");
							
						}   
						
					}, complete: function () {
						loadingHide();
					}, error: function (x, t, m) {
						if (t === "timeout") {
							
						} else {
							
						}
					}
				});
			});
			
		});
	   
		</script>
</body>

</html>